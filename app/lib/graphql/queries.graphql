# Queries for Events and Organizations

query GetEvents($limit: Int = 25, $offset: Int = 0, $status: EventStatus, $fromDate: Date, $toDate: Date) {
    events(limit: $limit, offset: $offset, status: $status, fromDate: $fromDate, toDate: $toDate) {
        id
        organizationUsername
        title
        description
        eventImg
        locationType
        createdBy
        eventLevel
        formData
        eventDate
        setupTime
        startTime
        endTime
        location
        eventStatus
        submittedAt
        createdAt
        updatedAt
        organization {
        id
        orgName
        username
        bio
        }
    }
}

query GetEventById($id: ID!) {
    event(id: $id) {
        id
        organizationUsername
        title
        description
        eventImg
        locationType
        createdBy
        eventLevel
        formData
        eventDate
        setupTime
        startTime
        endTime
        location
        eventStatus
        submittedAt
        createdAt
        updatedAt
        organization { 
            id
            orgName
            username
            bio
        }
    }
}

query GetOrganizations($limit: Int = 25, $offset: Int = 0, $username: String) {
    organizations(limit: $limit, offset: $offset, username: $username) {
        id
        orgName
        username
        bio
        orgImg
        createdAt
        updatedAt
    }
}

query EventsByOrganization($orgUsername: String!, $limit: Int = 25, $offset: Int = 0, $status: String, $fromDate: Date, $toDate: Date) {
    eventsByOrganization(orgUsername: $orgUsername, limit: $limit, offset: $offset, status: $status, fromDate: $fromDate, toDate: $toDate) {
        id
        organizationUsername
        title
        description
        eventImg
        locationType
        createdBy
        eventLevel
        formData
        eventDate
        setupTime
        startTime
        endTime
        location
        eventStatus
        submittedAt
        createdAt
        updatedAt
    }
}

query GetDbDump($limit: Int = 25, $offset: Int = 0) {
    events(limit: $limit, offset: $offset) {
        id
        organizationUsername
        title
        description
        eventImg
        locationType
        eventDate
        setupTime
        startTime
        endTime
        location
        eventStatus
        submittedAt
        createdAt
        updatedAt
        organization { 
            id
            orgName
            username
            bio
        }
    }
    organizations(limit: $limit, offset: $offset) {
        id
        orgName
        username
        bio
        orgImg
        createdAt
        updatedAt
    }
    users(limit: $limit, offset: $offset) {
        id
        firstName
        lastName
        username
        profileImg
        password
        organization {
            id
            orgName
            username
            bio
            orgImg
        }
        createdAt
        updatedAt
    }
}

query GetUsers($limit: Int = 25, $offset: Int = 0) {
    users(limit: $limit, offset: $offset) {
        id
        firstName
        lastName
        username
        profileImg
        password
        role
        organization { id orgName username bio orgImg }
        createdAt
        updatedAt
    }
}

query GetUser($id: ID!) {
    user(id: $id) {
        id
        firstName
        lastName
        username
        profileImg
        password
        role
        organization { id orgName username bio orgImg }
        createdAt
        updatedAt
    }
}

# Purchases
query GetPurchases($limit: Int = 25, $offset: Int = 0) {
    purchases(limit: $limit, offset: $offset) {
        id
        organizationUsername
        dateSubmitted
        itemTitle
        itemCategory
        eventId
        orderStatus
        itemCost
        organization { id orgName username }
    }
}

query GetPurchase($id: ID!) {
    purchase(id: $id) {
        id
        organizationUsername
        dateSubmitted
        itemTitle
        itemCategory
        eventId
        orderStatus
        itemCost
        organization { id orgName username }
    }
}

query PurchasesByOrganization($orgUsername: String!, $limit: Int = 25, $offset: Int = 0) {
    purchasesByOrganization(orgUsername: $orgUsername, limit: $limit, offset: $offset) {
        id
        organizationUsername
        dateSubmitted
        itemTitle
        itemCategory
        eventId
        orderStatus
        itemCost
    }
}
